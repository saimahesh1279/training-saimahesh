<!DOCTYPE html>
<html>

<head>
    <title>HANDLING ASYNCHRONOUS</title>
    <script>
        let student = [{
                    "id": 4,
                    "name": "mahesh",
                    "age": 23,
                    "address": "hyderabad",
                },

                {
                    "id": 3,
                    "name": "akhil",
                    "age": 12,
                    "address": "jadwel",
                },

                {
                    "id": 5,
                    "name": "prashanth",
                    "age": 25,
                    "address": "warangal"
                },

                {
                    "id": 1,
                    "name": "susheel",
                    "age": 26,
                    "address": "tenali",
                },
            ]
            //filter() Method
        console.log("Before Filter", student);
        let filteredData = student.filter(function(item) {
            return item.age > 15;
        })
        console.log("After Filter", filteredData);

        // map() Method
        console.log("Before Map", student);
        let mappedData = student.map(function(item) {
            //return item.age;
            return item.id;
        })
        console.log("After Map", mappedData);

        // reduce() Method
        console.log("Before reduce", student);
        let reducedData = student.reduce(function(sum, item) {
            return sum + item.age;
        }, 0)
        console.log("After Reduce", reducedData);

        //Callbacks
        function add(a, b, callback) {
            document.write(`The sum of ${a} and ${b} is ${a+b}.` + "<br>");
            callback();
        }
        add(15, 20, disp);

        //Promises Resolved
        var promise = new Promise(function(resolve, reject) {
            resolve('Promise Success');
        })
        promise.then(function(successMessage) {
                console.log(successMessage);
            }, function(errorMessage) {
                console.log(errorMessage);
            })
            //Promises Rejected

        var promise = new Promise(function(resolve, reject) {
            resolve('Promise Rejected');
        })
        promise.then(function(successMessage) {
            console.log(successMessage);
        }).catch(function(errorMessage) {
            console.log(errorMessage);
        })

        //Async/Await Function

        const getData = async() => {
            var data = "Hiii Mahesh";
            return data;
        }
        getData().then(data => console.log(data));

        const getRes = async() => {
            var x = await "Hiiii MAhesh";
            console.log(x);
        }
        console.log(1);
        getRes();
        console.log(2);
    </script>
</head>

</html>